{"version":3,"sources":["webpack:///webpack/bootstrap 327a8d6d68f4ef27fba1","webpack:///./src/vue-i18n.js"],"names":[],"mappings":";;;;;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"vue-i18n.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 327a8d6d68f4ef27fba1\n **/","/**\r\n * The default options.\r\n *\r\n * @param baseUrl\r\n *    the base URL of the localization files, which could be either an absolute\r\n *    URL or a relative URL. The url should not ending with a slash. The default\r\n *    value is \"i18n\".\r\n * @param fallbackLanguage\r\n *    the code of the fallback language. If the localization file for a\r\n *    specified language is failed to load, the localization file for fallback\r\n *    language will be load.\r\n * @param timeout\r\n *    The timeout for the AJAX calls, in milliseconds. Default value is 500.\r\n * @param async\r\n *    Indicates whether to load the localization file asynchronously. Default\r\n *    value is false.\r\n */\r\nvar DEFAULT_OPTIONS = {\r\n  baseUrl: \"i18n\",\r\n  fallbackLanguage: \"en-US\",\r\n  timeout: 500,\r\n  async: false\r\n};\r\n\r\n/**\r\n * A plugin of Vue.js providing i18n functions.\r\n *\r\n * @param Vue\r\n *    the Vue class.\r\n * @param options\r\n *    the configuration options.\r\n * @author Haixing Hu\r\n */\r\nexports.install = function (Vue, options) {\r\n  var jquery = window.JQuery || window.$;\r\n  if (! jquery) {\r\n    throw new Error(\"JQuery is required.\");\r\n  }\r\n\r\n  // merge the default options\r\n  var opts = jquery.extend({}, DEFAULT_OPTIONS, options);\r\n\r\n  /**\r\n   * Sets the UI language.\r\n   *\r\n   * @param language\r\n   *    the code of the language to be set.\r\n   * @param callback\r\n   *    the optional callback function which will be called after refreshing\r\n   *    the i18n file.\r\n   */\r\n  Vue.prototype.$setLanguage = function(language, callback) {\r\n    // console.debug(\"Setting language: \" + language);\r\n    var url = opts.baseUrl + \"/\" + language + \".json\";\r\n    var fallbackUrl = opts.baseUrl + \"/\" + opts.fallbackLanguage + \".json\";\r\n    var vm = this;\r\n    Vue.prototype.$language = \"\";\r\n    Vue.prototype.$i18n = {};\r\n    jquery.ajax({\r\n      url: url,\r\n      dataType: \"json\",\r\n      type: \"GET\",\r\n      async: opts.async,\r\n      timeout: opts.timeout,\r\n      success: function(data) {\r\n        // console.debug(\"Sucessfully load: \" + url);\r\n        Vue.prototype.$language = language;\r\n        Vue.prototype.$i18n = data;\r\n        update(vm.$root);\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      },\r\n      error: function() {\r\n        // console.debug(\"Failed to load: \" + url);\r\n        // try to load localization file for the fallback language\r\n        jquery.ajax({\r\n          url: fallbackUrl,\r\n          dataType: \"json\",\r\n          type: \"GET\",\r\n          async: opts.async,\r\n          timeout: opts.timeout,\r\n          success: function(data) {\r\n            // console.debug(\"Sucessfully load: \" + fallbackUrl);\r\n            Vue.prototype.$language = language;\r\n            Vue.prototype.$i18n = data;\r\n            update(vm.$root);\r\n            if (callback) {\r\n              callback();\r\n            }\r\n          },\r\n          error: function() {\r\n            throw new Error(\"Cannot load localization file: \" + url);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n};\r\n\r\n/**\r\n * Updates all the watchers in the Vue instance of a component tree.\r\n *\r\n * This function is inspired by the \"_digest()\" function in the\r\n * \"src/instance/scope.js\" of the source of Vue.js, excepts that this function\r\n * updates the children components no matter whether it is inheritable.\r\n *\r\n * @param vm\r\n *    the root of the component tree.\r\n */\r\nfunction update(vm) {\r\n  var i = vm._watchers.length;\r\n  while (i--) {\r\n    vm._watchers[i].update(true); // shallow updates\r\n  }\r\n  var children = vm.$children;\r\n  i = children.length;\r\n  while (i--) {\r\n    var child = children[i];\r\n    update(child);\r\n  }\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/vue-i18n.js\n ** module id = 0\n ** module chunks = 0\n **/"],"sourceRoot":""}